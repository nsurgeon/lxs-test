# Test project
Task given as an prerequisite for technical interview

## Task definition

Build a simple application which will meet following requirements:
- Use 1..N thread(s) to produce data blocks: 
    - each thread produces one or more blocks
    - data block: block of randomly generated bytes with specified size in bytes 
- Use 1..M thread(s) to do calculation, each thread must process each block (calculate CRC32)
- finally application must validate each block (compare CRC32 checksums) in case of failure (different values found) block must be stored in file and user notified
- Total number of blocks to produce, block size, number producing and processing threads must be specified as commandline arguments 

## Solution


### Dependencies

- boost library: 
    - command line arguments parsing
    - filesystem
    - system

#### Build boost

    ./bootstrap.sh --prefix=<install path prefix>
    ./b2 --prefix=<install path> --build-dir=<build path> link=shared variant=release threading=multi    

### Project structure

* includes - files with headers
* stc      - application sources
* main.cpp - entry point

### Build project

At the moment project is supplied as Eclipse project.
should be replaced by cmake scripts.

### Run application

Application help is self descriptive,

```
Sample applications, generates random blocks and calculate crc32 for each:
  -h [ --help ]            gives usage information
  -i [ --items ] arg       Number of blocks to produce
  -s [ --sources ] arg     Source producers count
  -b [ --size ] arg        Data block size
  -c [ --calculators ] arg Count of CRC calculation units
  -f [ --folder ] arg (=.) Path to folder to store broken blocks
```


# TODO
- enhance error and exceptional situation handling
- add cmake build files  
- logger
- unit tests